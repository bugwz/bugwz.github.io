<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover"><title>树、二叉树、完全/满/平衡二叉树的理解与对比 | 咕咕</title><meta name="author" content="bugwz"><meta name="copyright" content="bugwz"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="ffffff"><meta name="description" content="一、树树是一种重要的非线性数据结构，直观地看，它是数据元素（在树中称为结点）按分支关系组织起来的结构，很像自然界中的树那样。树型结构也是信息的重要组织形式之一，一切具有层次关系的问题都可用树来描述。 1.1、相关概念 路径：顺着节点的边从一个节点走到另一个节点，所经过的节点的顺序排列就称为路径；  根：树顶端的节点称为根，一棵树只有一个根，如果要把一个节点和边的集合称为树，那么从根到其他任何一个节"><meta property="og:type" content="article"><meta property="og:title" content="树、二叉树、完全&#x2F;满&#x2F;平衡二叉树的理解与对比"><meta property="og:url" content="https://bugwz.com/2017/05/01/tree/index.html"><meta property="og:site_name" content="咕咕"><meta property="og:description" content="一、树树是一种重要的非线性数据结构，直观地看，它是数据元素（在树中称为结点）按分支关系组织起来的结构，很像自然界中的树那样。树型结构也是信息的重要组织形式之一，一切具有层次关系的问题都可用树来描述。 1.1、相关概念 路径：顺着节点的边从一个节点走到另一个节点，所经过的节点的顺序排列就称为路径；  根：树顶端的节点称为根，一棵树只有一个根，如果要把一个节点和边的集合称为树，那么从根到其他任何一个节"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="https://bugwz.com/assets/images/bg/tree.jpeg"><meta property="article:published_time" content="2017-04-30T16:00:00.000Z"><meta property="article:modified_time" content="2025-12-16T13:38:47.409Z"><meta property="article:author" content="bugwz"><meta property="article:tag" content="树"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://bugwz.com/assets/images/bg/tree.jpeg"><script type="application/ld+json">{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "树、二叉树、完全/满/平衡二叉树的理解与对比",
  "url": "https://bugwz.com/2017/05/01/tree/",
  "image": "https://bugwz.com/assets/images/bg/tree.jpeg",
  "datePublished": "2017-04-30T16:00:00.000Z",
  "dateModified": "2025-12-16T13:38:47.409Z",
  "author": [
    {
      "@type": "Person",
      "name": "bugwz",
      "url": "https://bugwz.com"
    }
  ]
}</script><link rel="shortcut icon" href="/assets/images/bg/favicon.png"><link rel="canonical" href="https://bugwz.com/2017/05/01/tree/index.html"><link rel="preconnect"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="/pluginsSrc/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload='this.media="all"'><noscript><link rel="stylesheet" href="/pluginsSrc/@fortawesome/fontawesome-free/css/all.min.css"></noscript><script>(()=>{const e={set:(e,t,o)=>{if(!o)return;const a=Date.now()+864e5*o;localStorage.setItem(e,JSON.stringify({value:t,expiry:a}))},get:e=>{const t=localStorage.getItem(e);if(!t)return;const{value:o,expiry:a}=JSON.parse(t);if(!(Date.now()>a))return o;localStorage.removeItem(e)}};window.btf={saveToLocal:e,getScript:(e,t={})=>new Promise((o,a)=>{const n=document.createElement("script");n.src=e,n.async=!0,Object.entries(t).forEach(([e,t])=>n.setAttribute(e,t)),n.onload=n.onreadystatechange=()=>{n.readyState&&!/loaded|complete/.test(n.readyState)||o()},n.onerror=a,document.head.appendChild(n)}),getCSS:(e,t)=>new Promise((o,a)=>{const n=document.createElement("link");n.rel="stylesheet",n.href=e,t&&(n.id=t),n.onload=n.onreadystatechange=()=>{n.readyState&&!/loaded|complete/.test(n.readyState)||o()},n.onerror=a,document.head.appendChild(n)}),addGlobalFn:(e,t,o=!1,a=window)=>{if(e.startsWith("pjax"))return;const n=a.globalFn||{};n[e]=n[e]||{},n[e][o||Object.keys(n[e]).length]=t,a.globalFn=n}};const t=()=>{document.documentElement.setAttribute("data-theme","dark"),null!==document.querySelector('meta[name="theme-color"]')&&document.querySelector('meta[name="theme-color"]').setAttribute("content","#0d0d0d")},o=()=>{document.documentElement.setAttribute("data-theme","light"),null!==document.querySelector('meta[name="theme-color"]')&&document.querySelector('meta[name="theme-color"]').setAttribute("content","ffffff")};btf.activateDarkMode=t,btf.activateLightMode=o;const a=e.get("theme");"dark"===a?t():"light"===a&&o();const n=e.get("aside-status");void 0!==n&&document.documentElement.classList.toggle("hide-aside","hide"===n);/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)&&document.documentElement.classList.add("apple")})()</script><script>const GLOBAL_CONFIG={root:"/",algolia:void 0,localSearch:void 0,translate:void 0,highlight:{plugin:"highlight.js",highlightCopy:!0,highlightLang:!0,highlightHeightLimit:500,highlightFullpage:!1,highlightMacStyle:!0},copy:{success:"复制成功",error:"复制失败",noSupport:"浏览器不支持"},relativeDate:{homepage:!1,post:!1},runtime:"",dateSuffix:{just:"刚刚",min:"分钟前",hour:"小时前",day:"天前",month:"个月前"},copyright:void 0,lightbox:"null",Snackbar:void 0,infinitegrid:{js:"/pluginsSrc/@egjs/infinitegrid/dist/infinitegrid.min.js",buttonText:"加载更多"},isPhotoFigcaption:!1,islazyloadPlugin:!1,isAnchor:!1,percent:{toc:!0,rightside:!1},autoDarkmode:!1}</script><script id="config-diff">var GLOBAL_CONFIG_SITE={title:"树、二叉树、完全/满/平衡二叉树的理解与对比",isHighlightShrink:!1,isToc:!0,pageType:"post"}</script><link rel="stylesheet" href="/self/github-dark.css" media="print" onload='this.media="all"'><link rel="preconnect" href="https://cdn.jsdelivr.net" crossorigin><meta name="generator" content="Hexo 8.1.1"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img text-center"><img src="/assets/images/bg/avatar.webp" onerror='this.onerror=null,this.src="/img/friend_404.gif"' alt="avatar"/ loading='lazy'></div><div class="site-data text-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">136</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">135</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">17</div></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><span>首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives"><span>归档</span></a></div><div class="menus_item"><a class="site-page" href="/tags"><span>标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories"><span>分类</span></a></div><div class="menus_item"><a class="site-page" href="/link"><span>友链</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image:url(/assets/images/bg/tree.jpeg)"><nav id="nav"><span id="blog-info"><a class="nav-site-title" href="/"><span class="site-name">咕咕</span></a><a class="nav-page-title" href="/"><span class="site-name">树、二叉树、完全/满/平衡二叉树的理解与对比</span><span class="site-name"><i class="fa-solid fa-circle-arrow-left"></i><span> 返回首页</span></span></a></span><div id="menus"><div id="search-button"><span class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> 搜索</span></span></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><span>首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives"><span>归档</span></a></div><div class="menus_item"><a class="site-page" href="/tags"><span>标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories"><span>分类</span></a></div><div class="menus_item"><a class="site-page" href="/link"><span>友链</span></a></div></div><div id="toggle-menu"><span class="site-page"><i class="fas fa-bars fa-fw"></i></span></div></div></nav><div id="post-info"><h1 class="post-title">树、二叉树、完全/满/平衡二叉树的理解与对比</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2017-04-30T16:00:00.000Z" title="发表于 2017-05-01 00:00:00">2017-05-01</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2025-12-16T13:38:47.409Z" title="更新于 2025-12-16 21:38:47">2025-12-16</time></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">总字数:</span><span class="word-count">2.4k</span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="container post-content" id="article-container"><h2 id="一、树"><a href="#一、树" class="headerlink" title="一、树"></a>一、树</h2><p>树是一种重要的非线性数据结构，直观地看，它是数据元素（在树中称为结点）按分支关系组织起来的结构，很像自然界中的树那样。树型结构也是信息的重要组织形式之一，一切具有层次关系的问题都可用树来描述。</p><h3 id="1-1、相关概念"><a href="#1-1、相关概念" class="headerlink" title="1.1、相关概念"></a>1.1、相关概念</h3><ul><li><p><code>路径</code>：顺着节点的边从一个节点走到另一个节点，所经过的节点的顺序排列就称为路径；</p></li><li><p><code>根</code>：树顶端的节点称为根，一棵树只有一个根，如果要把一个节点和边的集合称为树，那么从根到其他任何一个节点都必须有且只有一条路径；</p></li><li><p><code>父节点</code>：若一个节点含有子节点，则这个节点称为其子节点的父节点；</p></li><li><p><code>子节点</code>：一个节点含有的子树的根节点称为该节点的子节点；</p></li><li><p><code>兄弟节点</code>：具有相同父节点的节点互称为兄弟节点；</p></li><li><p><code>叶节点</code>：没有子节点的节点称为叶节点，也叫叶子节点；</p></li><li><p><code>子树</code>：每个节点都可以作为子树的根，它和它所有的子节点、子节点的子节点等都包含在子树中；</p></li><li><p><code>节点的层次</code>：从根开始定义，根为第一层，根的子节点为第二层，以此类推；</p></li><li><p><code>深度</code>：对于任意节点n，n的深度为从根到n的唯一路径长，根的深度为0；</p></li><li><p><code>高度</code>：对于任意节点n，n的高度为从n到一片树叶的最长路径长，所有树叶的高度为0；</p></li><li><p><code>森林</code>：0个或多个不相交的树组成，对森林加上一个根，森林即成为树；删去根，树即成为森林；</p></li><li><p><code>节点的度</code>：节点拥有的子树的数目；</p></li><li><p><code>树的度</code>：树中节点的最大的度；</p></li></ul><ul><li><code>叶子节点</code>：度为零的节点；</li><li><code>分支节点</code>：度不为零的节点；</li><li><code>层次</code>：根节点的层次为<code>1</code>，其余节点的层次等于该节点的双亲节点的层次加<code>1</code>；</li><li><code>树的高度</code>：树中节点的最大层次；</li><li><code>无序树</code>：树中节点的各子树之间的次序是不重要的，可以交换位置；</li><li><code>有序树</code>：树中节点的各子树之间的次序是重要的，不可以交换位置；</li></ul><h3 id="1-2、定义"><a href="#1-2、定义" class="headerlink" title="1.2、定义"></a>1.2、定义</h3><ul><li>树是由一个或多个节点组成的有限集合；</li><li>树中必有一个特定的称为根的节点；</li><li>剩下的节点被分成 <code>n&gt;=0</code> 个互不相交的集合<code>T1</code>、<code>T2</code>、……<code>Tn</code>，并且这些每个集合又都是一个树。树<code>T1</code>、<code>T2</code>、……<code>Tn</code>被称作根的子树；</li></ul><h3 id="1-3、特点"><a href="#1-3、特点" class="headerlink" title="1.3、特点"></a>1.3、特点</h3><ul><li><strong>对比二叉树</strong><ul><li>树中节点的最大度数（节点的分叉）没有限制，而二叉树节点的最大度数（节点的分叉）数量为2；</li><li>树的节点无左、右之分，而二叉树的节点有左、右之分；</li></ul></li></ul><h3 id="1-4、表示方法"><a href="#1-4、表示方法" class="headerlink" title="1.4、表示方法"></a>1.4、表示方法</h3><p>树的表示方法有许多，常用的方法是用<strong>括号</strong>：</p><ul><li>先将根结点放入一对圆括号中，然后把它的子树由左至右的顺序放入括号中，而对子树也采用同样的方法处理；</li><li>同层子树与它的根节点用圆括号括起来，同层子树之间用逗号隔开，最后用闭括号括起来；</li></ul><h3 id="1-5、示例图"><a href="#1-5、示例图" class="headerlink" title="1.5、示例图"></a>1.5、示例图</h3><p><img src="/assets/images/tree.png" alt="树" loading="lazy"></p><p>如上图可使用<strong>括号表示法</strong>写成：<code>(A(B(E,F),C(G),D(H,M)))</code></p><h2 id="二、二叉树"><a href="#二、二叉树" class="headerlink" title="二、二叉树"></a>二、二叉树</h2><p>二叉树（Binary Tree）是包含<code>n</code>个节点的有限集合，当n为零时该集合为空集，或者该集合由一个根节点和两棵互不相交的、分别称为根节点的左子树和右子树的二叉树组成。</p><h3 id="2-1、定义"><a href="#2-1、定义" class="headerlink" title="2.1、定义"></a>2.1、定义</h3><ul><li>树中每个节点最多有两个子树，不存在度（分叉）大于2的节点；</li><li>子树有左右之分，次序不能颠倒；</li></ul><h3 id="2-2、基本形态"><a href="#2-2、基本形态" class="headerlink" title="2.2、基本形态"></a>2.2、基本形态</h3><ul><li><p>空二叉树</p></li><li><p>只有一个根结点的二叉树</p></li><li><p>只有右子树</p></li><li><p>只有左子树</p></li><li><p>完全二叉树：除了树的最后一层外，其他的节点既有左子树又有右子树；</p></li></ul><h3 id="2-3、示例图"><a href="#2-3、示例图" class="headerlink" title="2.3、示例图"></a>2.3、示例图</h3><p><img src="/assets/images/tree-binary-tree.png" alt="二叉树" loading="lazy"></p><h2 id="三、完全二叉树"><a href="#三、完全二叉树" class="headerlink" title="三、完全二叉树"></a>三、完全二叉树</h2><p>对于深度为 $k$ ，有 $n$ 个结点的二叉树，当且仅当其每一个结点都与深度为 $k$的满二叉树中编号从<code>1</code>至<code>n</code>的结点一一对应时称之为完全二叉树。</p><h3 id="3-1、定义"><a href="#3-1、定义" class="headerlink" title="3.1、定义"></a>3.1、定义</h3><ul><li>符合二叉树的定义规则；</li><li>除二叉树的最高层<code>h</code>外，其它各层 (<code>1</code>～<code>h-1</code>) 的节点数都达到最大个数；</li><li>第<code>h</code>层有叶子结点，并且叶子结点都是从左到右依次排布；</li></ul><h3 id="3-2、示例图"><a href="#3-2、示例图" class="headerlink" title="3.2、示例图"></a>3.2、示例图</h3><p><img src="/assets/images/tree-complete-binary-tree.png" alt="完全二叉树" loading="lazy"></p><h2 id="四、满二叉树"><a href="#四、满二叉树" class="headerlink" title="四、满二叉树"></a>四、满二叉树</h2><p>一个二叉树，如果每一个层的结点数都达到最大值，则这个二叉树就是满二叉树。也就是说，如果一个二叉树的层数为 $k$，且结点总数是 $2^k -1$ ，则它就是满二叉树。</p><h3 id="4-1、定义"><a href="#4-1、定义" class="headerlink" title="4.1、定义"></a>4.1、定义</h3><ul><li>符合完全二叉树的定义；</li><li>每个节点都有左右子叶并且叶子节点都处于最底层；</li></ul><h3 id="4-2、特点"><a href="#4-2、特点" class="headerlink" title="4.2、特点"></a>4.2、特点</h3><ul><li>满二叉树一定是平衡二叉树，平衡二叉树不一定是满二叉树；</li></ul><h3 id="4-3、示例图"><a href="#4-3、示例图" class="headerlink" title="4.3、示例图"></a>4.3、示例图</h3><p><img src="/assets/images/tree-full-binary-tree.png" alt="满二叉树" loading="lazy"></p><h2 id="五、平衡二叉树（AVL树）"><a href="#五、平衡二叉树（AVL树）" class="headerlink" title="五、平衡二叉树（AVL树）"></a>五、平衡二叉树（AVL树）</h2><p>平衡二叉树（又称<code>平衡二叉查找树</code>），由前苏联的数学家 <code>Adelse-Velskil</code> 和 <code>Landis</code> 在 <code>1962年</code>提出的高度平衡的二叉树，根据科学家的英文名也称为 <code>AVL树</code>。平衡二叉树的常用实现方法有<code>红黑树</code>、<code>AVL</code>、<code>替罪羊树</code>、<code>Treap</code>、<code>伸展树</code>等。</p><p>最小二叉平衡树的节点的公式为<code>F(n)=F(n-1)+F(n-2)+1</code>，这个类似于一个递归的数列，可参考<code>Fibonacci数列</code>，公式解释为：</p><ul><li><code>1</code>是根节点；</li><li><code>F(n-1)</code>是左子树的节点数量；</li><li><code>F(n-2)</code>是右子树的节点数量；</li></ul><h3 id="5-1、特点"><a href="#5-1、特点" class="headerlink" title="5.1、特点"></a>5.1、特点</h3><ul><li>可以为空树；</li><li>左右子树的高度相差<code>不超过 1</code> （<code>平衡因子</code>的绝对值不超过<code>1</code>）的树，并且左右子数都是一个平衡二叉树；</li></ul><h3 id="5-2、平衡因子"><a href="#5-2、平衡因子" class="headerlink" title="5.2、平衡因子"></a>5.2、平衡因子</h3><ul><li><code>-1</code>：表示左子树比右子树高；</li><li><code>0</code>：表示右子树比左子树高；</li><li><code>1</code>：表示左子树和右子树等高；</li></ul><h3 id="5-3、示例图"><a href="#5-3、示例图" class="headerlink" title="5.3、示例图"></a>5.3、示例图</h3><p><img src="/assets/images/tree-balanced-binary-tree.png" alt="平衡二叉树" loading="lazy"></p><h3 id="5-4、失衡调整"><a href="#5-4、失衡调整" class="headerlink" title="5.4、失衡调整"></a>5.4、失衡调整</h3><p>平衡二叉树调整后，它的中序遍历的顺序是不会改变的。</p><h4 id="5-4-1、插入时的失衡调整"><a href="#5-4-1、插入时的失衡调整" class="headerlink" title="5.4.1、插入时的失衡调整"></a>5.4.1、插入时的失衡调整</h4><p>所有的不平衡情况中，都是按照<code>寻找最小不平衡树</code> &#x3D;&gt; <code>寻找所属的不平衡类别</code> &#x3D;&gt; <code>根据4种类别进行固定化程序的操作</code>；</p><h5 id="5-4-1-1、LL型调整（左子树过高）"><a href="#5-4-1-1、LL型调整（左子树过高）" class="headerlink" title="5.4.1.1、LL型调整（左子树过高）"></a>5.4.1.1、LL型调整（左子树过高）</h5><ul><li>首先找到最小不平衡的子树，再以其根节点向右旋转（向右旋转后相当于右面的子数的树高加1，而左面的子数的树高减1）；</li><li>旋转之后源根节点的左孩子作为新的根节点，<strong>原来根节点的左孩子作为新的根节点</strong>；</li><li>中序遍历对比：调整前：<code>123</code>；调整后：<code>123</code>；</li></ul><p><img src="/assets/images/tree-balanced-binary-tree-ll.png" alt="LL型调整" loading="lazy"></p><h5 id="5-4-1-2、RR型调整（右子树过高）"><a href="#5-4-1-2、RR型调整（右子树过高）" class="headerlink" title="5.4.1.2、RR型调整（右子树过高）"></a>5.4.1.2、RR型调整（右子树过高）</h5><ul><li>首先找到最小不平衡的子树，再以其根节点向左旋转（向右旋转后相当于左面的子数的树高加1，而右面的子数的树高减1）；</li><li>旋转之后源根节点的右孩子作为新的根节点，<strong>原来根节点的右孩子作为新的根节点</strong>；</li><li>中序遍历对比：调整前：<code>123</code>；调整后：<code>123</code>；</li></ul><p><img src="/assets/images/tree-balanced-binary-tree-rr.png" alt="RR型调整" loading="lazy"></p><h5 id="5-4-1-3、LR型调整（左子树过高）"><a href="#5-4-1-3、LR型调整（左子树过高）" class="headerlink" title="5.4.1.3、LR型调整（左子树过高）"></a>5.4.1.3、LR型调整（左子树过高）</h5><ul><li><p>以较高子树的根节点为中心向左进行旋转（示例图中为左子树较高，左子树的根为<code>节点1</code>），可以理解成先转换为<code>LL型</code>；</p></li><li><p>以原根节点为中心，向右旋转（实例图中以<code>节点3</code>为中心，向右旋转）；</p></li><li><p>调整之后，<strong>原来根节点的左孩子的右孩子作为新的根节点</strong>；</p></li><li><p>中序遍历对比：调整前：<code>123</code>；调整后：<code>123</code>；</p></li></ul><p><img src="/assets/images/tree-balanced-binary-tree-lr.png" alt="LR调整" loading="lazy"></p><h5 id="5-4-1-4、RL型调整（右子树过高）"><a href="#5-4-1-4、RL型调整（右子树过高）" class="headerlink" title="5.4.1.4、RL型调整（右子树过高）"></a>5.4.1.4、RL型调整（右子树过高）</h5><ul><li><p>以根节点的右孩子为中心向右进行旋转（示例图中为右子树较高，右子树的根为<code>节点3</code>），可以理解成先转换为<code>RR型</code>；</p></li><li><p>以原根节点为中心，向右旋转（示例图中以<code>节点1</code>为中心，向左旋转）；</p></li><li><p>调整之后，<strong>原来根节点的右孩子的左孩子作为新的根节点</strong>；</p></li><li><p>中序遍历对比：调整前：<code>123</code>；调整后：<code>123</code>；</p></li></ul><p><img src="/assets/images/tree-balanced-binary-tree-rl.png" alt="RL调整" loading="lazy"></p><h4 id="5-4-2、删除时的失衡调整"><a href="#5-4-2、删除时的失衡调整" class="headerlink" title="5.4.2、删除时的失衡调整"></a>5.4.2、删除时的失衡调整</h4><h5 id="5-4-2-1、LE型（左子树过高）"><a href="#5-4-2-1、LE型（左子树过高）" class="headerlink" title="5.4.2.1、LE型（左子树过高）"></a>5.4.2.1、LE型（左子树过高）</h5><ul><li>以下初始场景只会在删除时才会出现，删除后可按照<code>LL型</code>的调整策略进行调整；</li></ul><p><img src="/assets/images/tree-balanced-binary-tree-le.png" alt="LE调整" loading="lazy"></p><h5 id="5-4-2-2、RE型（右子树过高）"><a href="#5-4-2-2、RE型（右子树过高）" class="headerlink" title="5.4.2.2、RE型（右子树过高）"></a>5.4.2.2、RE型（右子树过高）</h5><ul><li>以下初始场景只会在删除时才会出现，删除后可按照<code>RR型</code>的调整策略进行调整；</li></ul><p><img src="/assets/images/tree-balanced-binary-tree-re.png" alt="RE调整" loading="lazy"></p><h2 id="六、数据对比"><a href="#六、数据对比" class="headerlink" title="六、数据对比"></a>六、数据对比</h2><table><thead><tr><th align="center">种类</th><th align="center">第 $n$ 层的节点数</th><th align="center">深度为 $n$ 的树节点数</th><th align="center">节点数为 $n$ 的树的高度</th></tr></thead><tbody><tr><td align="center">二叉树</td><td align="center">$2^{n-1}$ (最多)</td><td align="center">$2^n-1$ (最多)</td><td align="center">$\log_2(n+1)$ (最少)</td></tr><tr><td align="center">完全二叉树</td><td align="center">$2^{n-1}$ (最多)</td><td align="center">$2^n-1$ (最多)</td><td align="center"></td></tr><tr><td align="center">满二叉树</td><td align="center">$2^{n-1}$</td><td align="center">$2^n-1$</td><td align="center">$\log_2(n+1)$</td></tr><tr><td align="center">平衡二叉树</td><td align="center">$2^{n-1}$ (最多)，1 (最少)</td><td align="center">$2^n-1$ (最多)，$2^{n-1}-1+1$ (最少)</td><td align="center"></td></tr></tbody></table></article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>文章作者: </span><span class="post-copyright-info"><a href="https://bugwz.com">bugwz</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>文章链接: </span><span class="post-copyright-info"><a href="https://bugwz.com/2017/05/01/tree/">https://bugwz.com/2017/05/01/tree/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来源 <a href="https://bugwz.com" target="_blank">咕咕</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/%E6%A0%91/">树</a></div><div class="post-share"><div class="social-share" data-image="/assets/images/bg/tree.jpeg" data-sites="facebook,x,wechat,weibo,qq"></div><link rel="stylesheet" href="/pluginsSrc/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload='this.media="all"'><script src="/pluginsSrc/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><a class="pagination-related" href="/2017/05/27/ghost-0-11-9/" title="Ghost博客成功&quot;更新&quot;至0.11.9"><img class="cover" src="/assets/images/bg/ghost.jpg" onerror='onerror=null,src="/img/404.jpg"' alt="cover of previous post" loading='lazy'><div class="info"><div class="info-1"><div class="info-item-1">上一篇</div><div class="info-item-2">Ghost博客成功"更新"至0.11.9</div></div><div class="info-2"><div class="info-item-1">Ghost真的是一个让我又爱又恨的博客平台，界面的简洁之美，写作的流畅与舒适，还有那烦人的安装与更新操作。在差不多一年之前吧，我安装了版本是 0.7.4 的Ghost平台，那时候用的是Ghost中文网中的那个 Ghost 中文集成版 ，当时也是费了很多周折，使用到现在也没有出现什么问题。也是在最近几天，闲着没事去Ghost中文网看了看，竟然还是 0.7.4 的版本！心想难道Ghost一直没更新？于是去英文官网看了看，才发现原来Ghost有两个路线，一个是 Alpha 版本，已经更新到了 Alpha.21 ，一个是正式版，也已经更新到了 0.11.9 ；而Ghost中文网的内容就有点滞后了，希望可以尽快更新。之后我就想体验新版本的Ghost。开始吧~ 一、尝试更新Ghost根据Ghost英文官网的 How-To-Upgrade更新指导步骤，我整理如下： 备份：在后台中的”实验室”栏目中导出一个 .json文件 ，并且将Ghost根目录中的 content目录 进行备份(这里存放着博客站点的所有上传图片和主题)。而我直接是把 整个Ghost目录和数据库 进行了备份。记住：一定要备份...</div></div></div></a><a class="pagination-related" href="/2017/04/27/ngrok-secure-tunnels-to-localhost/" title="利用Ngrok搭建私有的内网穿透服务器"><img class="cover" src="/assets/images/bg/ngrok.jpg" onerror='onerror=null,src="/img/404.jpg"' alt="cover of next post" loading='lazy'><div class="info text-right"><div class="info-1"><div class="info-item-1">下一篇</div><div class="info-item-2">利用Ngrok搭建私有的内网穿透服务器</div></div><div class="info-2"><div class="info-item-1">一、关于NgrokNgrok 是用Go语言写的一个反向代理软件，Ngrok 服务可以分配给你一个域名让你本地的web项目可供外网访问，Ngrok解决了内网穿透这十分棘手的问题，可以让我们不需要公网IP的情况下，轻松向他人展示本机的Web Demo等信息。Ngrok 官网本身还提供了公共服务，只需要注册一个帐号，运行它的客户端，就可以快速把内网映射出去,不过这么好的服务，没多久就被墙了,幸运的是，Ngrok的1.x的源码被公布了出来，我们可以利用它的源码去构建属于我们自己的Ngrok内网穿透服务器。 据官方所说由于 Ngrok 存在一些已知的问题，例如内存泄漏等对稳定使用影响较大，原文内容如下： DO NOT RUN THIS VERSION OF NGROK (1.X) IN PRODUCTION. Both the client and server are known to have serious reliability issues including memory and file descriptor leaks as well as crashes. There ...</div></div></div></a></nav><hr class="custom-hr"/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> 评论</span></div></div><div class="comment-wrap"><div><div id="gitalk-container"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info text-center"><div class="avatar-img"><img src="/assets/images/bg/avatar.webp" onerror='this.onerror=null,this.src="/img/friend_404.gif"' alt="avatar"/ loading='lazy'></div><div class="author-info-name">bugwz</div><div class="author-info-description">持续学习，持续进步</div><div class="site-data"><a href="/archives/"><div class="headline">文章</div><div class="length-num">136</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">135</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">17</div></a></div><div class="card-info-social-icons"><a class="social-icon" href="https://github.com/bugwz" target="_blank" title="Github"><i class="fab fa-github" style="color:#24292e"></i></a></div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%80%E3%80%81%E6%A0%91"><span class="toc-text">一、树</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-1%E3%80%81%E7%9B%B8%E5%85%B3%E6%A6%82%E5%BF%B5"><span class="toc-text">1.1、相关概念</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-2%E3%80%81%E5%AE%9A%E4%B9%89"><span class="toc-text">1.2、定义</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-3%E3%80%81%E7%89%B9%E7%82%B9"><span class="toc-text">1.3、特点</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-4%E3%80%81%E8%A1%A8%E7%A4%BA%E6%96%B9%E6%B3%95"><span class="toc-text">1.4、表示方法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-5%E3%80%81%E7%A4%BA%E4%BE%8B%E5%9B%BE"><span class="toc-text">1.5、示例图</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%8C%E3%80%81%E4%BA%8C%E5%8F%89%E6%A0%91"><span class="toc-text">二、二叉树</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-1%E3%80%81%E5%AE%9A%E4%B9%89"><span class="toc-text">2.1、定义</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-2%E3%80%81%E5%9F%BA%E6%9C%AC%E5%BD%A2%E6%80%81"><span class="toc-text">2.2、基本形态</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-3%E3%80%81%E7%A4%BA%E4%BE%8B%E5%9B%BE"><span class="toc-text">2.3、示例图</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%89%E3%80%81%E5%AE%8C%E5%85%A8%E4%BA%8C%E5%8F%89%E6%A0%91"><span class="toc-text">三、完全二叉树</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#3-1%E3%80%81%E5%AE%9A%E4%B9%89"><span class="toc-text">3.1、定义</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-2%E3%80%81%E7%A4%BA%E4%BE%8B%E5%9B%BE"><span class="toc-text">3.2、示例图</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9B%9B%E3%80%81%E6%BB%A1%E4%BA%8C%E5%8F%89%E6%A0%91"><span class="toc-text">四、满二叉树</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#4-1%E3%80%81%E5%AE%9A%E4%B9%89"><span class="toc-text">4.1、定义</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-2%E3%80%81%E7%89%B9%E7%82%B9"><span class="toc-text">4.2、特点</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-3%E3%80%81%E7%A4%BA%E4%BE%8B%E5%9B%BE"><span class="toc-text">4.3、示例图</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%94%E3%80%81%E5%B9%B3%E8%A1%A1%E4%BA%8C%E5%8F%89%E6%A0%91%EF%BC%88AVL%E6%A0%91%EF%BC%89"><span class="toc-text">五、平衡二叉树（AVL树）</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#5-1%E3%80%81%E7%89%B9%E7%82%B9"><span class="toc-text">5.1、特点</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-2%E3%80%81%E5%B9%B3%E8%A1%A1%E5%9B%A0%E5%AD%90"><span class="toc-text">5.2、平衡因子</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-3%E3%80%81%E7%A4%BA%E4%BE%8B%E5%9B%BE"><span class="toc-text">5.3、示例图</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-4%E3%80%81%E5%A4%B1%E8%A1%A1%E8%B0%83%E6%95%B4"><span class="toc-text">5.4、失衡调整</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#5-4-1%E3%80%81%E6%8F%92%E5%85%A5%E6%97%B6%E7%9A%84%E5%A4%B1%E8%A1%A1%E8%B0%83%E6%95%B4"><span class="toc-text">5.4.1、插入时的失衡调整</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#5-4-1-1%E3%80%81LL%E5%9E%8B%E8%B0%83%E6%95%B4%EF%BC%88%E5%B7%A6%E5%AD%90%E6%A0%91%E8%BF%87%E9%AB%98%EF%BC%89"><span class="toc-text">5.4.1.1、LL型调整（左子树过高）</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#5-4-1-2%E3%80%81RR%E5%9E%8B%E8%B0%83%E6%95%B4%EF%BC%88%E5%8F%B3%E5%AD%90%E6%A0%91%E8%BF%87%E9%AB%98%EF%BC%89"><span class="toc-text">5.4.1.2、RR型调整（右子树过高）</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#5-4-1-3%E3%80%81LR%E5%9E%8B%E8%B0%83%E6%95%B4%EF%BC%88%E5%B7%A6%E5%AD%90%E6%A0%91%E8%BF%87%E9%AB%98%EF%BC%89"><span class="toc-text">5.4.1.3、LR型调整（左子树过高）</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#5-4-1-4%E3%80%81RL%E5%9E%8B%E8%B0%83%E6%95%B4%EF%BC%88%E5%8F%B3%E5%AD%90%E6%A0%91%E8%BF%87%E9%AB%98%EF%BC%89"><span class="toc-text">5.4.1.4、RL型调整（右子树过高）</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5-4-2%E3%80%81%E5%88%A0%E9%99%A4%E6%97%B6%E7%9A%84%E5%A4%B1%E8%A1%A1%E8%B0%83%E6%95%B4"><span class="toc-text">5.4.2、删除时的失衡调整</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#5-4-2-1%E3%80%81LE%E5%9E%8B%EF%BC%88%E5%B7%A6%E5%AD%90%E6%A0%91%E8%BF%87%E9%AB%98%EF%BC%89"><span class="toc-text">5.4.2.1、LE型（左子树过高）</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#5-4-2-2%E3%80%81RE%E5%9E%8B%EF%BC%88%E5%8F%B3%E5%AD%90%E6%A0%91%E8%BF%87%E9%AB%98%EF%BC%89"><span class="toc-text">5.4.2.2、RE型（右子树过高）</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%AD%E3%80%81%E6%95%B0%E6%8D%AE%E5%AF%B9%E6%AF%94"><span class="toc-text">六、数据对比</span></a></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2025/12/06/ceph-cmd-register-exec/" title="Ceph 命令注册及执行流程"><img src="/assets/images/bg/ceph.webp" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="Ceph 命令注册及执行流程"/ loading='lazy'></a><div class="content"><a class="title" href="/2025/12/06/ceph-cmd-register-exec/" title="Ceph 命令注册及执行流程">Ceph 命令注册及执行流程</a><time datetime="2025-12-05T16:00:00.000Z" title="发表于 2025-12-06 00:00:00">2025-12-06</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/11/08/ceph_linux_versions/" title="Ceph 和 LinuxKernel 版本时间对照表"><img src="/assets/images/bg/ceph.webp" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="Ceph 和 LinuxKernel 版本时间对照表"/ loading='lazy'></a><div class="content"><a class="title" href="/2025/11/08/ceph_linux_versions/" title="Ceph 和 LinuxKernel 版本时间对照表">Ceph 和 LinuxKernel 版本时间对照表</a><time datetime="2025-11-07T16:00:00.000Z" title="发表于 2025-11-08 00:00:00">2025-11-08</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/08/09/cephfs-inode-num/" title="CephFS Inode 编号的申请与释放"><img src="/assets/images/bg/ceph.webp" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="CephFS Inode 编号的申请与释放"/ loading='lazy'></a><div class="content"><a class="title" href="/2025/08/09/cephfs-inode-num/" title="CephFS Inode 编号的申请与释放">CephFS Inode 编号的申请与释放</a><time datetime="2025-08-08T16:00:00.000Z" title="发表于 2025-08-09 00:00:00">2025-08-09</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/06/01/ceph-cirmson/" title="Ceph Crimson 设计实现深入解析"><img src="/assets/images/bg/ceph.webp" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="Ceph Crimson 设计实现深入解析"/ loading='lazy'></a><div class="content"><a class="title" href="/2025/06/01/ceph-cirmson/" title="Ceph Crimson 设计实现深入解析">Ceph Crimson 设计实现深入解析</a><time datetime="2025-05-31T16:00:00.000Z" title="发表于 2025-06-01 00:00:00">2025-06-01</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/05/23/3fs-deploy/" title="3FS 集群部署笔记"><img src="/assets/images/bg/deepseek.webp" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="3FS 集群部署笔记"/ loading='lazy'></a><div class="content"><a class="title" href="/2025/05/23/3fs-deploy/" title="3FS 集群部署笔记">3FS 集群部署笔记</a><time datetime="2025-05-22T16:00:00.000Z" title="发表于 2025-05-23 00:00:00">2025-05-23</time></div></div></div></div></div></div></main><footer id="footer" style="background-image:url(/assets/images/bg/tree.jpeg)"><div class="footer-other"><div class="footer-copyright"><span class="copyright">&copy;&nbsp;2019 - 2026 By bugwz</span><span class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo 8.1.1</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly 5.5.3</a></span></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="日间和夜间模式切换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><a id="to_comment" href="#post-comment" title="前往评论"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><div class="js-pjax"><script>(()=>{const t=()=>{if(window.MathJax)MathJax.startup.document.state(0),MathJax.texReset(),MathJax.typesetPromise();else{window.MathJax={loader:{load:["[tex]/mhchem"],paths:{"mathjax-newcm":"[mathjax]/../@mathjax/mathjax-newcm-font","mathjax-mhchem-extension":"[mathjax]/../@mathjax/mathjax-mhchem-font-extension"}},output:{font:"mathjax-newcm"},tex:{inlineMath:[["$","$"],["\\(","\\)"]],tags:"none",packages:{"[+]":["mhchem"]}},chtml:{scale:1.1},options:{enableMenu:!0,menuOptions:{settings:{enrich:!1}},renderActions:{findScript:[10,t=>{for(const e of document.querySelectorAll('script[type^="math/tex"]')){const a=!!e.type.match(/; *mode=display/),n=new t.options.MathItem(e.textContent,t.inputJax[0],a),m=document.createTextNode("");e.parentNode.replaceChild(m,e),n.start={node:m,delim:"",n:0},n.end={node:m,delim:"",n:0},t.math.push(n)}},""]}}};const t=document.createElement("script");t.src="/pluginsSrc/mathjax/tex-mml-chtml.js",t.id="MathJax-script",t.async=!0,document.head.appendChild(t)}};btf.addGlobalFn("encrypt",t,"mathjax"),window.pjax?t():window.addEventListener("load",t)})()</script><script>(()=>{const e=e=>{const t=(e=>{if(!e)return null;const t=e.trim().split(/[\s,]+/).map(e=>Number(e));return 4!==t.length||t.some(e=>Number.isNaN(e))?null:t})(e.getAttribute("viewBox"));if(t)return t;try{const t=e.getBBox();if(t&&t.width&&t.height)return[t.x,t.y,t.width,t.height]}catch(e){}const n=Number(e.getAttribute("width"))||0,r=Number(e.getAttribute("height"))||0;return n>0&&r>0?[0,0,n,r]:[0,0,100,100]},t=(e,t)=>{e.setAttribute("viewBox",`${t[0]} ${t[1]} ${t[2]} ${t[3]}`)},n=(e,t,n)=>Math.max(t,Math.min(n,e)),r=({source:e,initViewBox:t})=>{const n=(()=>{if("string"==typeof e){const t=document.createElement("template");t.innerHTML=e.trim();const n=t.content.querySelector("svg");return n?n.cloneNode(!0):null}return e&&"function"==typeof e.cloneNode?e.cloneNode(!0):null})();if(!n)return;t&&4===t.length&&n.setAttribute("viewBox",t.join(" ")),n.getAttribute("xmlns")||n.setAttribute("xmlns","http://www.w3.org/2000/svg"),!n.getAttribute("xmlns:xlink")&&n.outerHTML.includes("xlink:")&&n.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink");const r="dark"===document.documentElement.getAttribute("data-theme"),i=getComputedStyle(document.body).backgroundColor||(r?"#1e1e1e":"#ffffff");n.style.background||(n.style.background=i);const o=(new XMLSerializer).serializeToString(n),s=new Blob([o],{type:"image/svg+xml;charset=utf-8"}),a=URL.createObjectURL(s);window.open(a,"_blank","noopener"),setTimeout(()=>URL.revokeObjectURL(a),3e4)},i=(e,t,n,r)=>{const i=e[2]*t,o=e[3]*t;return[n-(n-e[0])*t,r-(r-e[1])*t,i,o]},o=r=>{const o=r.querySelector("svg");if(!o)return;const s=e(o);if(r.__mermaidInitViewBox=s,r.__mermaidCurViewBox=s.slice(),t(o,s),r.__mermaidGestureBound)return;r.__mermaidGestureBound=!0;const a=(t,n)=>{const i=o.getBoundingClientRect(),s=r.__mermaidCurViewBox||e(o);return{x:s[0]+(t-i.left)*(s[2]/i.width),y:s[1]+(n-i.top)*(s[3]/i.height),rect:i,vb:s}},d={pointers:new Map,startVb:null,startDist:0,startCenter:null},m=e=>{e=(e=>{const t=r.__mermaidInitViewBox||e,i=.1*t[2],o=10*t[2],s=.1*t[3],a=10*t[3];return e[2]=n(e[2],i,o),e[3]=n(e[3],s,a),e})(e),r.__mermaidCurViewBox=e,t(o,e)},l=e=>{d.pointers.delete(e.pointerId),0===d.pointers.size?(d.startVb=null,d.startDist=0,d.startCenter=null,r.__mermaidLastSinglePointer=null):1===d.pointers.size&&(r.__mermaidLastSinglePointer=[...d.pointers.values()][0])};o.addEventListener("pointerdown",t=>{if("mouse"!==t.pointerType||0===t.button)if(o.setPointerCapture(t.pointerId),d.pointers.set(t.pointerId,{x:t.clientX,y:t.clientY}),1===d.pointers.size)d.startVb=(r.__mermaidCurViewBox||e(o)).slice();else if(2===d.pointers.size){const t=[...d.pointers.values()],n=t[0].x-t[1].x,i=t[0].y-t[1].y;d.startDist=Math.hypot(n,i),d.startVb=(r.__mermaidCurViewBox||e(o)).slice(),d.startCenter={x:(t[0].x+t[1].x)/2,y:(t[0].y+t[1].y)/2}}}),o.addEventListener("pointermove",t=>{if(d.pointers.has(t.pointerId)){if(d.pointers.set(t.pointerId,{x:t.clientX,y:t.clientY}),1===d.pointers.size&&d.startVb){const n=[...d.pointers.values()][0],i=(t.clientX,t.movementX,t.clientY,t.movementY,r.__mermaidLastSinglePointer||n),s=n.x-i.x,l=n.y-i.y;r.__mermaidLastSinglePointer=n;const{rect:c}=a(n.x,n.y),u=(r.__mermaidCurViewBox||e(o)).slice(),p=s*(u[2]/c.width),x=l*(u[3]/c.height);return void m([u[0]-p,u[1]-x,u[2],u[3]])}if(2===d.pointers.size&&d.startVb&&d.startDist>0){const e=[...d.pointers.values()],t=e[0].x-e[1].x,n=e[0].y-e[1].y,r=Math.hypot(t,n);if(!r)return;const o=d.startDist/r,s={x:(e[0].x+e[1].x)/2,y:(e[0].y+e[1].y)/2},l=a(s.x,s.y),c=l.x,u=l.y,p=i(d.startVb,o,c,u);m(p)}}}),o.addEventListener("pointerup",l),o.addEventListener("pointercancel",l),o.addEventListener("wheel",t=>{t.preventDefault();const n=t.deltaY>0?1.1:.9,{x:s,y:d}=a(t.clientX,t.clientY),l=(r.__mermaidCurViewBox||e(o)).slice();m(i(l,n,s,d))},{passive:!1}),o.addEventListener("dblclick",()=>{const e=r.__mermaidInitViewBox;e&&(r.__mermaidCurViewBox=e.slice(),t(o,e))})},s=e=>{window.loadMermaid=!0;const t="dark"===document.documentElement.getAttribute("data-theme")?"dark":"default";e.forEach((e,n)=>{const i=e.firstElementChild,s=e.querySelector("svg");s&&s.remove(),e.__mermaidGestureBound=!1;const a=i.dataset.config?JSON.parse(i.dataset.config):{};a.theme||(a.theme=t);const d=`mermaid-${n}`,m=`%%{init: ${JSON.stringify(a)}}%%\n`+i.textContent,l=mermaid.render(d,m),c=t=>{i.insertAdjacentHTML("afterend",t),o(e),e.__mermaidOriginalSvg=t,(e=>{const t=e.__mermaidOriginalSvg;let n=e.querySelector(".mermaid-open-btn");n||(n=document.createElement("button"),n.type="button",n.className="mermaid-open-btn",e.appendChild(n)),n.innerHTML='<i class="fa fa-search fa-fw" aria-hidden="true"></i>',n.__mermaidViewerBound||(n.addEventListener("click",n=>{n.preventDefault(),n.stopPropagation();const i=t||e.querySelector("svg");if(!i)return;const o=e.__mermaidInitViewBox;r({source:i,initViewBox:o})}),n.__mermaidViewerBound=!0)})(e)};"string"==typeof l?c(l):l.then(({svg:e})=>c(e))})},a=()=>{(()=>{const e=document.querySelectorAll("pre > code.mermaid");0!==e.length&&e.forEach(e=>{const t=document.createElement("pre");t.className="mermaid-src",t.hidden=!0,t.textContent=e.textContent;const n=document.createElement("div");n.className="mermaid-wrap",n.appendChild(t),e.parentNode.replaceWith(n)})})();const e=document.querySelectorAll("#article-container .mermaid-wrap");if(0===e.length)return;const t=()=>s(e);btf.addGlobalFn("themeChange",t,"mermaid"),window.loadMermaid?t():btf.getScript("/pluginsSrc/mermaid/dist/mermaid.min.js").then(t)};btf.addGlobalFn("encrypt",a,"mermaid"),window.pjax?a():document.addEventListener("DOMContentLoaded",a)})()</script><script>(()=>{const t="shuoshuo"===GLOBAL_CONFIG_SITE.pageType,e=null,n=t=>{const e=document.querySelector("#post-meta .gitalk-comment-count");e&&(e.textContent=t)},a=(a,i)=>{t&&(window.shuoshuoComment.destroyGitalk=()=>{a.children.length&&(a.innerHTML="",a.classList.add("no-comment"))});new Gitalk({clientID:"6af3be16b94cec39bcf6",clientSecret:"ff79d2c5b817fe837ad43a1d9f8e0dd68190ceb5",repo:"bugwz.github.io",owner:"bugwz",admin:["bugwz"],updateCountCallback:n,...e,id:t?i:"461226caa55ee12388ab52e235257b2e"}).render("gitalk-container")},i=async(t,e)=>{"function"==typeof Gitalk||(await btf.getCSS("/pluginsSrc/gitalk/dist/gitalk.css"),await btf.getScript("/pluginsSrc/gitalk/dist/gitalk.min.js")),a(t,e)};t?window.shuoshuoComment={loadComment:i}:i()})()</script></div><div class="docsearch-wrap"><div id="docsearch" style="display:none"></div><link rel="stylesheet" href="/pluginsSrc/@docsearch/css/dist/style.css"/><script src="/pluginsSrc/@docsearch/js/dist/umd/index.js"></script><script>(()=>{docsearch(Object.assign({appId:"PFB3WGSSCO",apiKey:"3e9cd446e41d93f2f130b91698b699f7",indexName:"bugwz",container:"#docsearch",placeholder:"请输入要搜索的内容"},{maxResultsPerGroup:10}));const e=()=>{document.querySelector(".DocSearch-Button").click()},c=()=>{btf.addEventListenerPjax(document.querySelector("#search-button > .search"),"click",e)};c(),window.addEventListener("pjax:complete",c)})()</script></div></div></body></html>